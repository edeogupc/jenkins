pipeline{
    agent any
    environment{
        SONAR_HOME = tool('sonar-scanner')
    }

    stages{

        stage("cleanup"){
            steps{
                cleanWS()
            }
        }
        stage("checkout"){
            steps{
                git branch: "main", url: "git@github.com:edeogupc/jenkins.git"
            }
        }
        stage("static code anayysis"){
            steps{
                withSonarQubeEnv('SonarQube') {
                    sh '''
                     ${SONAR_HOME}/bin/scaner-scanner -Dsonar.ProjectName="zoba" \n
                     -Dsonar.ProjectKey="zoba"
                     
                    '''


 
                 }
            }
        }


    }
    
    }
