pipeline{
    agent any
    environment{
        SONAR_HOME = tool('sonar-scanner')
    }

    stages{

        stage("cleanup"){
            steps{
                
                cleanWs()
            }
        }
        stage("checkout"){
            steps{
                git branch: "main", url: "https://github.com/edeogupc/jenkins.git"
            }
        }
        stage("static code anayysis"){
            steps{
                withSonarQubeEnv('SonarQube') {
                    sh '''
                     ${SONAR_HOME}/bin/sonar-scanner -Dsonar.projectName="zoba" \n
                     -Dsonar.projectkey="zoba"
                     
                    '''


 
                 }
            }
        }


    }
    
    }
